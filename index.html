<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Comunica Síndico</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: #0b1c2d;
      color: #ffffff;
    }

    .container {
      display: grid;
      grid-template-rows: auto 1fr auto;
      height: 100vh;
    }

    header {
      background: #102a43;
      padding: 20px 40px;
      font-size: 32px;
      font-weight: 600;
    }

    main {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 30px;
      padding: 30px 40px;
    }

    .avisos {
      background: #16324f;
      border-radius: 12px;
      padding: 25px;
    }

    .avisos h2 {
      margin-top: 0;
      font-size: 26px;
      margin-bottom: 20px;
    }

    .aviso {
      margin-bottom: 18px;
      padding-bottom: 18px;
      border-bottom: 1px solid rgba(255,255,255,0.15);
    }

    .aviso:last-child {
      border-bottom: none;
    }

    .aviso h3 {
      margin: 0 0 6px 0;
      font-size: 20px;
    }

    .aviso p {
      margin: 0;
      font-size: 17px;
      opacity: 0.9;
    }

    .lateral {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .box {
      background: #16324f;
      border-radius: 12px;
      padding: 20px;
      font-size: 20px;
    }

    footer {
      background: #102a43;
      padding: 12px 40px;
      font-size: 16px;
      opacity: 0.85;
      display: flex;
      justify-content: space-between;
    }
  </style>
</head>

<body>
  <div class="container">
    <header id="titulo">Comunica Síndico</header>

    <main>
      <section class="avisos">
        <h2>Avisos do dia</h2>
        <div id="lista-avisos"></div>
      </section>

      <aside class="lateral">
        <div class="box" id="data"></div>
        <div class="box" id="hora"></div>
      </aside>
    </main>

    <footer>
      <span id="rodape-esquerdo"></span>
      <span id="rodape-direito"></span>
    </footer>
  </div>

  <script>
    async function carregarDados() {
      const response = await fetch("data.json?_=" + new Date().getTime());
      const data = await response.json();

      document.getElementById("titulo").innerText = data.titulo;
      document.getElementById("rodape-esquerdo").innerText = data.rodape.esquerdo;
      document.getElementById("rodape-direito").innerText = data.rodape.direito;

      const lista = document.getElementById("lista-avisos");
      lista.innerHTML = "";

      data.avisos.forEach(a => {
        const div = document.createElement("div");
        div.className = "aviso";
        div.innerHTML = `<h3>${a.titulo}</h3><p>${a.texto}</p>`;
        lista.appendChild(div);
      });
    }

    function atualizarHora() {
      const agora = new Date();
      document.getElementById("hora").innerText =
        agora.toLocaleTimeString("pt-BR", { hour: "2-digit", minute: "2-digit" });
      document.getElementById("data").innerText =
        agora.toLocaleDateString("pt-BR", { weekday: "long", day: "2-digit", month: "long", year: "numeric" });
    }

    carregarDados();
    atualizarHora();
    setInterval(atualizarHora, 1000);
    setInterval(carregarDados, 60000);
  </script>
</body>
</html>
